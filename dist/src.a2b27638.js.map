{"version":3,"sources":["src/SimpleSortable.js","src/index.js","../../.nvm/versions/node/v12.14.1/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../.nvm/versions/node/v12.14.1/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["SimpleSortable","newOrderHandler","window","addEventListener","dragged","draggedY","target","selectorItems","list","document","querySelectorAll","forEach","item","e","getBoundingClientRect","y","style","border","preventDefault","parentNode","removeChild","after","before","newOrder","a","push","dataset","id","console","log","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AEAA,ACAA,IDAI8B,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;ADCF,ACAC,AHNH,GGIE,MDEOnB,AFNA9B,SEMP,KFNF,CAAwBC,eAAxB,EAAyC;AEOxC,AFNGC,ACEJ,EDFIA,MAAM,CAACC,gBAAP,CAAwB,GCEb,GDFX,EAAgC,KCEXoB,ODFiB,CCE3B,EAAoB;AEIjCuB,AHLM,ACEJlB,EEGFkB,AFHElB,MDFQxB,CGKH,AFHE,CEGD8C,AFHErB,GAAR,CEGF,AFHc,CDFR,EGKSgB,IAAI,CAACK,IAAL,CAAUC,IFHvB,CEGa,CAAgB,AFHE5B,GEGlB,EAAqB,CAArB,EFHb,EEGuC,GAA1B,GAAgC6B,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,AHLM,ACEP,CAFD,CEKEA,IAAI,CAAC1B,CHLKd,CEMH2B,OFND,CGKN,CAAgBsB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;ADEA,ACDD,AHLO,QAAIjD,MAAJ;AEON,AFNM,MEMF,EFNMC,aAAa,GAAG,qBAApB;AEOJ,ACDJ,AHLQ,IGKJiD,IHLUhD,EEMJ,EFNQ,EEMJyB,ACDA,CHLOxB,EGKJ,EDCP,EAAN,ACDJ,EHL6B,CAACC,gBAAT,CAA0BH,aAA1B,CAAb;AEOL,AFNKC,GEIN,CAEE,AFNIA,IAAI,CAACG,EEMFuB,GAAP,EAAY,AFNR,CAAa,UAACtB,IAAD,EAAU;AEO3B,ACFJ,AHHYA,MAAAA,EEKJuB,CCFCsB,CHHO,CAACtD,IEKF,GAAG,ACFlB,CDEmB,ECFE,GDEG+B,GAAG,AFLf,CEKgBE,AFLM,KEKhB,EAAiBC,IFLvB,CEKM,CAAuB,AFLM,UAACxB,CAAD,EAAO,kDEKpC,CAAd;ACDF,AHHcT,MGGVoD,EHHUpD,OAAO,CGGrB,EAAgB,AHHQS,CAAC,CAACP,MAAZ;AEKZ,ACDA,AHHYD,QEIR8B,AFJQ9B,OEIZ,CFJoB,CEIP,EFJUD,OAAO,CAACU,qBAAR,GAAgCC,CAA3C;AEKV,ACDH,AHHaX,QAAAA,KEIHkC,EFJU,CAACtB,KAAR,CAAcC,CEIP,CAACkB,IFJR,GEIe,AFJQ,CEIP,CAAD,CAAR,CAAjB,YFJU;AEKX,AFJQ,OAJD;AEST,ACDDqB,AHFU5C,EGEV4C,IHFU5C,IAAI,CAACT,CGEL,GAAGuD,UAAU,CAAC,CHFd,CAAsB,UGEI,CHF1B,EAAmC,UAAC7C,CAAD,EAAO;AGGlD,AHFY,QGER8C,IHFYvD,CGEP,GAAGK,GHFW,KGEH,AHFQI,CGEPH,AHFQ,CAACJ,MAAlB,EAA0B,OGE1B,CAA0B,wBAA1B,CAAZ;ADEF,AFHkBA,SEGX,CFHWA,EEGlB,IFHwB,GAAGO,CAAC,CAACP,MAAX;AEInB,ACFG,AHDa,SGCR,IAAIsD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,AHDO,OAJD,GGKFlB,MAAM,CAACJ,UAAP,CAAkBqB,KAAK,CAACC,CAAD,CAAL,CAASV,IAA3B,MAAqCR,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AHAIhC,MAAAA,EGAJgC,CDECN,CFFO,CAACnC,OGAC,CDElB,ACFmBwD,CDECpB,GAApB,CCFwB,CDEC,ACFAqB,CAAD,CAAN,AHAN,CGAJ,AHA0B,SAAtB,EAAiC,UAAC/C,CAAD,EAAO;AEGlD,ACFK,AHASA,QAAAA,CEEP,AFFQ,CEEP,AFFQK,KEEHqB,GAAN,EAAWC,IFFJ,GEEP,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI;AHAW,YAAIlC,MAAJ,EAAY;AEI5BmC,ACFIe,AHDgB,IGChBA,GDEG,CAACxB,MCFM,AHDU3B,GGCP,GDEjB,CCFI,CHD4B,CEGT0B,EFHYzB,MAAM,CAACQ,SEG1C,YFHmC,GAA+BC,CAA9C,EAAiD;AEIrE0B,ACFG,AHDqBrC,GGRC,EASpB,EDEE,ACXkB,CDWjBkC,ACXN,IHQsBlC,MEGxB,CFH+B,CAACe,CEGXmB,SFHG,CEGxB,AFH2ClB,WAAnB,CAA+BhB,OAA/B;AGEvB,AHDuBE,YAAAA,MAAM,CAACe,KAAP,CAAajB,OAAb;AACH,WAHD,MAGO;AGE3B0D,AHDwB1D,MGClB,CAACqC,KHDiBrC,EGCxB,GAAiBqD,EHDc,CAACtC,MGChC,IHDwB,CAAmBC,WAAnB,CAA+BhB,OAA/B;AACAE,YAAAA,MAAM,CAACgB,MAAP,CAAclB,OAAd;AACH;AACJ;;AAEDA,QAAAA,OAAO,CAACY,KAAR,CAAcC,MAAd,GAAuB,GAAvB;AAEA,YAAIM,QAAQ,GAAG,EAAf;AACAd,QAAAA,QAAQ,CAACC,gBAAT,CAA0BH,aAA1B,EAAyCI,OAAzC,CAAiD,UAAAa,CAAC,EAAI;AAClDD,UAAAA,QAAQ,CAACE,IAAT,CAAcD,CAAC,CAACE,OAAF,CAAUC,EAAxB;AACH,SAFD;AAGA1B,QAAAA,eAAe,CAACsB,QAAD,CAAf;AACH,OAnBD,EAmBG,KAnBH;AAoBH,KAlCD;AAmCH,GAzCD;AA0CH;;eAEcvB","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["function SimpleSortable(newOrderHandler) {\n    window.addEventListener(\"load\", () => {\n        let dragged;\n        let draggedY;\n        let target;\n        let selectorItems = \".simple-sortable li\";\n        const list = document.querySelectorAll(selectorItems);\n        list.forEach((item) => {\n            \n            item.addEventListener(\"dragstart\", (e) => {\n                dragged = e.target;\n                draggedY = dragged.getBoundingClientRect().y;\n                dragged.style.border = \"1px solid #000\";\n            });\n            \n            item.addEventListener(\"dragenter\", (e) => {\n                if (dragged !== e.target) {\n                    target = e.target;\n                }\n            });\n            \n            item.addEventListener(\"dragend\", (e) => {\n                e.preventDefault();\n                if (target) {\n                    if (draggedY < target.getBoundingClientRect().y) {\n                        dragged.parentNode.removeChild(dragged);\n                        target.after(dragged);\n                    } else {\n                        dragged.parentNode.removeChild(dragged);\n                        target.before(dragged);\n                    }\n                }\n                \n                dragged.style.border = \"0\";\n                \n                let newOrder = [];\n                document.querySelectorAll(selectorItems).forEach(a => {\n                    newOrder.push(a.dataset.id);\n                });\n                newOrderHandler(newOrder);\n            }, false);\n        });\n    });\n}\n\nexport default SimpleSortable;\n","import \"./styles.css\";\nimport SimpleSortable from \"./SimpleSortable\";\n\nSimpleSortable(function (newOrder) {\n    console.log(\"print new order\", newOrder)\n});\n\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}